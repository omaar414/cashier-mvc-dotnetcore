@{
    ViewData["Title"] = "Transaction";
}

@model TransactionViewModel
<div class="text-center">

    <div class="text-end"> 
        <a asp-action="Index" class="btn btn-primary btn-lg rounded-pill shadow px-5 py-3 fs-4 mb-2">
            <i class="fas fa-home"></i> 
        </a> 
    </div>

    <br>
    <h1 class="display-4 fw-bold">Transaction</h1>
    <br>
    <hr>
    <br>

    <div class="row" >
        
        <div class="col-md-8 ">
            <table class=" table table-striped shadow-lg">
                <thead class="table-dark" >
                    <tr>
                        <th>Item#</th>
                        <th>Price</th>
                        <th>Description</th>
                        <th>Size</th>
                        <th>Actions</th>
                    </tr>
                </thead>

                <tbody>
                    @foreach (var item in Model.Items)
                    {
                        <tr>
                            <td>@item.Id</td>
                            <td>@item.Price.ToString("C2")</td>
                            <td>@item.Description</td>
                            <td>@item.Size</td>     
                            <td> <a asp-action="DeleteCartItem" asp-route-id="@item.Id" class="btn btn-sm btn-danger">Delete</a> </td>
                        </tr>
                    }
                </tbody>

            </table>
        </div>
        

        <div class="col-md-4">
            <div class="card shadow-lg p-3">
                <div class="card-body">
                    <h3 class="card-title">Add Item</h3>
                    <form asp-action="AddItemToCart" >
                        <input class="form-control text-center mb-2" asp-for='Id' type="number" placeholder="Item number..." required>
                        <button  type="submit" class="btn btn-primary btn-block">Add</button>
                    </form>
                    
                </div>
            </div>
       
        </div>

    </div>
    <br/>
    <br/>
    <div class="card shadow-lg p-1" >
        <div class="card-body">
            <div class="row">

                <div class="col-md-4" >
                    <h4 class="card-title text-center">Total</h4>
                    <hr>
                    <p class="card-text text-center">@ViewBag.TotalAmount.ToString("C2")</p>
                </div>

                <div class="col-md-4" >
                    <h4 class="card-title text-center">Quantity</h4>
                    <hr
                    <p class="card-text text-center">@ViewBag.TotalQuantity</p>
                </div>

                <div class="col-md-4" >
                    <a asp-action="addPurchase" class="btn btn-success py-3 px-5 fs-3 my-3">Charge</a>
                </div>

            </div>
        </div>
    </div>

</div>